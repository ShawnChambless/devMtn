angular.module("groupProject").controller("homeCtrl",["$scope","homeService","getPosts","currentUser","$stateParams","$state",function(o,t,e,n,a,s){o.modalShown=!1,o.admin=n.isAdmin,o.posts=e.data,o.upVoteDownVote=function(e,n){t.upVoteDownVote(e,n).success(function(t){var e;o.posts.map(function(o,n){o._id===t._id&&(e=n)}),o.posts[e]=t})},o.addToFavorites=function(o){t.addToFavorites(o,n._id)},o.addToviewLater=function(o){t.addToviewLater(o,n._id)},o.modalShown=!1,o.toggleModal=function(){o.modalShown=!o.modalShown,o.newPost=""},o.deletePost=function(e,n){t.deletePost(e).then(function(){o.posts.splice(n,1)})},o.tagView=function(o,t){s.go("tag",{cat:o,tag:t})};var c=20,i=parseInt(a.count,10);i>c?(o.prevPage="home({count:"+(i-c)+"})",o.nextPage="home({count:"+(i+c)+"})"):(o.prevPage="home({count: 0})",o.nextPage="home({count:"+(i+c)+"})")}]);